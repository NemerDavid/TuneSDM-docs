<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="TuneSDM">
<title>Welcome to TuneSDM App • TuneSDM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Welcome to TuneSDM App">
<meta property="og:description" content="TuneSDM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">TuneSDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/getting_started.html">Get Started</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Welcome to TuneSDM App</h1>
            
      
      
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<hr>
<div class="section level2">
<h2 id="launching-the-app">Launching the App<a class="anchor" aria-label="anchor" href="#launching-the-app"></a>
</h2>
<p>In R tun the following codes to launch the app</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>install your package<span class="sc">:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"NemerDavid/tunesdm-app"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(TuneSDM)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>TuneSDM<span class="sc">::</span><span class="fu">run_TuneSDM</span>()</span></code></pre></div>
<hr>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="occurrence-data">Occurrence Data<a class="anchor" aria-label="anchor" href="#occurrence-data"></a>
</h2>
<p>Uploaded occurrence data must follow this structure:</p>
<ol style="list-style-type: decimal">
<li>Longitude (X)</li>
<li>Latitude (Y)</li>
<li>Species name (e.g., Zamia prasina)</li>
<li>Presence/absence (1 = presence, 0 = absence)</li>
</ol>
<p>The coordinate system must be <strong>WGS84 (EPSG:4326)</strong> in
decimal degrees. Column names are flexible, but the <strong>order must
be strictly followed</strong>. Once your file is successfully loaded,
species presence points can be visualized in the Map Occurrence tab to
help validate their geographic locations.</p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/image1.png"></p>
<hr>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="environmental-data">Environmental Data<a class="anchor" aria-label="anchor" href="#environmental-data"></a>
</h2>
<p>This section guides you through formatting your environmental
predictor layers correctly before uploading. The data must be loaded as
a SpatRaster object using the terra package in R. It should contain all
predictor variables stacked in a single multi-layer raster file (e.g.,
.tif format).</p>
<p>The raster file must satisfy the following requirements:</p>
<p>All layers must share the same spatial resolution, extent, and
coordinate reference system (CRS). The CRS must be WGS84 (EPSG:4326) in
decimal degrees. The file format should be .tif. Avoid .asc or other
formats without embedded CRS metadata. Each layer should have a short,
interpretable name (e.g., bio1, bio12, slope). After selecting your
file, wait until the upload is marked as ‘Upload complete’ before
clicking Load Climate Data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="st">'path/to/your/predictors.tif'</span></span>
<span><span class="va">envs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/crs.html" class="external-link">crs</a></span><span class="op">(</span><span class="va">envs</span><span class="op">)</span> <span class="co"># should return 'EPSG:4326'</span></span></code></pre></div>
<p><br><br><br> After selecting your file, wait until the upload is
marked as ‘Upload complete’ before clicking Load Climate Data.</p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image6.png"></p>
<p><br><br> After loading the raster stack, the app summarizes key
statistics (min, max, median, NA count, etc.) for each predictor. Use
this to assess variable ranges, identify missing data, or detect
anomalies. <img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image2.png"></p>
<p><br><br> Then, you can select a subset of predictors for each species
individually. This allows more tailored modeling. For example, a
tropical tree and a cold-adapted carnivore may need very different
variables.</p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image3.png"></p>
<p><br><br> You may choose to assign the same set of predictors to
multiple species.</p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image5.png"></p>
<hr>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="model-tuning">Model Tuning<a class="anchor" aria-label="anchor" href="#model-tuning"></a>
</h2>
<p>How to Tune SDM Models</p>
<p>This section lets you fine-tune Species Distribution Models (SDMs)
for each species and algorithm independently, using Bayesian
optimization via the tune_bayes() function from the tidymodels
ecosystem. You can choose one or more algorithms (e.g., rf, gbm, svm,
etc.), and the app will tune each one individually.</p>
<p>Supported models:</p>
<ul>
<li>Random Forest (rf)</li>
<li>XGBoost (gbm)</li>
<li>Support Vector Machines (SVM)</li>
<li>Maximum Entropy (Maxent)</li>
<li>Neural Network (nnet)</li>
<li>Generalized Additive Model (GAM)</li>
<li>Generalized Linear Model with quadratic terms to capture
non-linearity (GLMsq)</li>
<li>Multivariate Adaptive Regression Splines (MARS)</li>
<li>K-Nearest Neighbors (KNN)</li>
</ul>
<p>Each model is tuned using resampling (e.g., k-fold cross-validation)
to find the best hyperparameters. You can customize this process using
the following options:</p>
<ul>
<li>
<strong>Initial search size</strong>: Number of random models to
evaluate before starting Bayesian search.</li>
<li>
<strong>Number of iterations</strong>: Number of optimization rounds
after the initial search.</li>
<li>
<strong>Proportion of training data</strong>: Fraction of the full
dataset used to train models (the remaining used for testing).</li>
<li>
<strong>Number of folds</strong>: Number of resampling folds used in
cross-validation.</li>
<li>
<strong>Use parallel</strong>: Enable multi-core tuning using the
<a href="https://future.futureverse.org" class="external-link">future</a> package.</li>
<li>
<strong>Seed</strong>: Set a random seed for reproducibility. Use
<code>0</code> for no seed, or any positive number to ensure
reproducible results.</li>
<li>
<strong>Number of cores</strong>: Controls how many processor cores
to use when parallelization is enabled.</li>
<li>
<strong>Use Weights</strong>: Apply optional weighting scheme for
presence/absence imbalance.</li>
</ul>
<p>Specifically, weights are calculated by comparing the number of
presence (1) and absence (0) observations:</p>
<ul>
<li>If presences are fewer, each presence point is given a higher weight
to balance its influence.</li>
<li>If absences are fewer, the opposite is applied.</li>
</ul>
<p>The user can activate or deactivate this weighting behavior by
toggling the <code>use_weights</code> parameter.</p>
<p>For example, if you have <strong>100 absences</strong> and <strong>20
presences</strong>, the weights are:</p>
<p>weight_presences = total_absences / total_presences = 100 / 20 = 5
weight_absences = 1 # default baseline</p>
<p>This means each presence observation is treated as <strong>5 times
more important</strong> than an absence, helping to correct class
imbalance during model fitting.</p>
<hr>
<p>Once tuning is complete, the following visualizations become
available: <br><br><br> - <strong><em>Tuning Results</em></strong>:
Summary plots showing performance across iterations and models. <br></p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image8.png"><br><br><br> - <strong><em>Tuning Parameters Table</em></strong>: A full
table of all tuned parameter combinations and their metrics. <br></p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image9.png"><br><br><br> - <strong><em>Single Model Metrics</em></strong>:
Visualization of how individual hyperparameters affect model
performance. <br></p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image12.png"><br><br><br> - <strong><em>ROC-AUC Plot</em></strong>: ROC curves based
on the best-tuned model. <br></p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image10.png"><br><br><br> - <strong><em>Response Curves</em></strong>: Partial
dependence plots showing variable influence on predictions. <br></p>
<p><img src="https://raw.githubusercontent.com/NemerDavid/app-figures/refs/heads/main/Image13.png"></p>
<p><br><br></p>
<p>For more information about the optimization algorithm, see the <a href="https://tune.tidymodels.org/reference/tune_bayes.html" class="external-link"><code>tune_bayes()</code>
documentation</a>.</p>
<hr>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="ensemble-modeling">Ensemble Modeling<a class="anchor" aria-label="anchor" href="#ensemble-modeling"></a>
</h2>
<p>The ensemble module provides a flexible and robust way to combine the
best-performing models into a unified prediction. After model tuning,
multiple candidate models (e.g., <code>rf</code>, <code>gbm</code>,
<code>svm</code>, etc.) are available for each species. Ensemble
modeling helps increase stability and accuracy by leveraging only those
models that meet a specified performance standard.</p>
<p>Selective Inclusion Based on Performance</p>
<p>You can define a <strong>performance threshold</strong> (e.g.,
ROC-AUC ≥ 0.85), and the app will:</p>
<ul>
<li>Filter all trained models across folds and configurations.</li>
<li>Retain only the models that exceed the threshold <strong>on their
individual fold performance</strong>.</li>
<li>Discard poorly performing models, even if they belong to the same
algorithm (e.g., only 3 out of 5 Random Forest models might be
retained).</li>
</ul>
<p>This selective process ensures that the ensemble is
<strong>robust</strong> and focused on reliability.</p>
<p>How to Customize the Ensemble</p>
<p>You can interactively control the ensemble process by:</p>
<ul>
<li>
<strong>Adjusting the performance threshold</strong> — either
<strong>globally</strong> for all species or
<strong>individually</strong> per species.</li>
<li>
<strong>Manually selecting</strong> which models or species to
include.</li>
<li>
<strong>Visualizing ensemble performance</strong> through test set
ROC-AUC curves.</li>
</ul>
<p>To assign <strong>different thresholds to different
species</strong>:</p>
<ol style="list-style-type: decimal">
<li>Select a species from the dropdown.</li>
<li>Adjust the threshold slider.</li>
<li>Click <strong>“Save for one species”</strong> to apply the
value.</li>
<li>Repeat for each species.</li>
</ol>
<p>Alternatively, to apply the <strong>same threshold to all
species</strong>, adjust the slider and click <strong>“Apply to
All”</strong>.</p>
<p>Once thresholds are set and models are selected, click <strong>“Run
Ensemble”</strong> to generate predictions. These predictions will then
be used for:</p>
<ul>
<li>Model evaluation</li>
<li>Climate scenario transfer</li>
<li>Final suitability mapping</li>
</ul>
<p>Why Ensemble?</p>
<blockquote>
<p><em>The ensemble combines top-performing individual model predictions
into a unified output, improving both predictive stability and
ecological interpretability.</em></p>
</blockquote>
<hr>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="model-transfer">Model Transfer<a class="anchor" aria-label="anchor" href="#model-transfer"></a>
</h2>
<p>Once species distribution models (SDMs) are trained, the
<strong>Model Transfer</strong> module enables you to project them onto
<strong>new environmental or spatial conditions</strong> — such as
future climate scenarios or novel geographic regions. This is essential
for understanding how species suitability may shift under changing
environments.</p>
<p>Input Data:</p>
<p>The <code>.tif</code> file uploaded earlier in the <strong>Env
Data</strong> section is <strong>automatically reused</strong>
here.<br>
You <strong>do not need to re-upload it</strong> unless you wish to
explore a new scenario (e.g., future climate layers or a different
region).</p>
<p>If uploading a new scenario stack:</p>
<ul>
<li>Ensure it follows the <strong>same layer names, order, and
format</strong> as the training dataset.</li>
</ul>
<hr>
<p>Spatial Cropping Options</p>
<p>You can define the area for model transfer using one of four cropping
methods:</p>
<ul>
<li>
<strong>Draw Extent</strong>: Manually draw polygons on the map. You
can assign unique extents per species.</li>
<li>
<strong>Select Countries</strong>: Clip predictions using official
country boundaries.</li>
<li>
<strong>Upload Shapefile</strong>: Use your own polygon shapefile
(e.g., custom region of interest).</li>
<li>
<strong>No Crop</strong>: Skip cropping if your raster stack is
already trimmed to your target region.</li>
</ul>
<p>Each cropping method can be:</p>
<ul>
<li>Applied <strong>globally to all species</strong>, or</li>
<li>Customized <strong>individually per species</strong> using action
buttons (e.g., <em>Apply Drawn Extent to Species</em>).</li>
</ul>
<hr>
<p>Species and Model Selection</p>
<p>You can choose to:</p>
<ul>
<li>Transfer predictions for <strong>one or multiple
species</strong>.</li>
<li>Include only selected models (e.g., <code>RF</code> and
<code>GLM</code>) in the final output.</li>
</ul>
<hr>
<p>Ensemble and Filtering</p>
<p>If enabled, ensemble predictions are generated by combining model
outputs using a specified method such as:</p>
<ul>
<li><code>mean</code></li>
<li><code>median</code></li>
</ul>
<p>Even when ensemble mode is active, <strong>individual model
predictions are always computed</strong> and available.</p>
<hr>
<p>Binarization Options:</p>
<p>You may convert continuous suitability scores into binary
(presence/absence) maps using:</p>
<ul>
<li><p><strong>Quantile of Minimum Training Presence</strong>: e.g.,
setting a threshold of <code>0.05</code> excludes the lowest 5% of
predicted suitability values at known presence locations. This method
allows for more biologically conservative predictions, especially useful
for long-lived species like trees.</p></li>
<li><p><strong>Max Sensitivity + Specificity Threshold</strong>: This
default method is <strong>always included</strong>, producing binary
predictions optimized for classification accuracy.</p></li>
</ul>
<hr>
<p>Why Transfer Models?</p>
<blockquote>
<p><em>This step helps you explore model behavior in novel contexts —
such as future climate, new territories, or ecological restoration zones
— providing critical insights for conservation and climate adaptation
planning.</em></p>
</blockquote>
<hr>
<p><br><br><br></p>
</div>
<div class="section level2">
<h2 id="visualizing-model-predictions">Visualizing Model Predictions<a class="anchor" aria-label="anchor" href="#visualizing-model-predictions"></a>
</h2>
<p>This section enables you to <strong>visualize the outputs</strong>
generated by your SDMs, either from individual models or ensemble
predictions, across various environmental scenarios.</p>
<p>What You Can Visualize</p>
<p>You can select:</p>
<ul>
<li>A <strong>species</strong> of interest</li>
<li>A <strong>prediction type</strong> (e.g., continuous or binary)</li>
<li>A <strong>model or ensemble configuration</strong>
</li>
</ul>
<p>The available prediction types include:</p>
<ul>
<li>
<code>Proba</code>: Continuous probability values ranging from 0 to
1.</li>
<li>
<code>Max_Sens_Spec_binary</code>: Binary map using the threshold
that <strong>maximizes sensitivity and specificity</strong>.</li>
<li>
<code>Min_training_binary</code>: Binary map using the
<strong>minimum predicted value</strong> at presence training
locations.</li>
<li>
<code>Ens_*</code>: Ensemble versions of the above, available if
ensemble modeling was applied.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> The <strong>Max Sensitivity + Specificity
threshold</strong> is always computed and applied as the default
binarization. This binary version is included automatically in visual
outputs.</p>
</blockquote>
<hr>
<p>Interpreting the Maps</p>
<p>These visualizations allow you to assess spatial patterns of
predicted suitability:</p>
<ul>
<li>Under <strong>current conditions</strong> or <strong>future
scenarios</strong>
</li>
<li>For <strong>individual models</strong> versus <strong>ensemble
predictions</strong>
</li>
</ul>
<p>By comparing the spatial outputs, you can evaluate how model
consensus and thresholding impact the interpretation of habitat
suitability across the landscape.</p>
<hr>
<p><br><br><br></p>
<hr>
</div>
<div class="section level2">
<h2 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a>
</h2>
<p>Need help? Contact the developer.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Nemer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  extra.css

  </body>
</html>
